<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pantalla de inicio de sesión — FibERP</title>
    <meta
      name="description"
      content="Página de inicio de sesión moderna, accesible y responsiva para FibERP."
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="container" role="main">
      <section class="hero fade-up" aria-hidden="false">
        <div class="brand">
          <div class="logo" aria-hidden="true">FibERP</div>
        </div>
        <h1>Welcome back</h1>
        <p class="lead">Enter your credentials to access the dashboard.</p>
        <footer class="small">
          Having trouble signing in?
          <a href="#" style="color: var(--accent); text-decoration: none"
            >Reset password</a
          >
        </footer>
      </section>

      <aside class="card fade-up" aria-label="Formulario de inicio de sesión">
        <form id="loginForm" novalidate>
          <div>
            <label for="email">Email</label>
            <input
              id="email"
              name="email"
              type="email"
              inputmode="email"
              autocomplete="username"
              placeholder="you@company.com"
              required
              aria-required="true"
            />
            <div
              class="error"
              id="emailError"
              aria-live="polite"
              style="display: none"
            ></div>
          </div>

          <div>
            <label for="password">Password</label>
            <div class="password-field">
              <input
                id="password"
                name="password"
                type="password"
                autocomplete="current-password"
                placeholder="••••••••"
                required
                aria-required="true"
                minlength="6"
              />
              <button
                type="button"
                class="toggle-pass"
                id="togglePass"
                aria-label="Mostrar contraseña"
              >
                Show
              </button>
            </div>
            <div
              class="error"
              id="passError"
              aria-live="polite"
              style="display: none"
            ></div>
          </div>

          <!-- Botón de envío -->
          <button class="btn" id="submitBtn" type="submit">Entrar</button>

          <!-- Enlace para crear cuenta -->
          <div style="margin-top: 12px; font-size: 13px; color: var(--muted)">
            Don't have an account?
            <a href="#" style="color: var(--accent); text-decoration: none"
              >Create account</a
            >
          </div>
        </form>
      </aside>
    </main>

    <script>
      (function () {
        const form = document.getElementById("loginForm");
        const email = document.getElementById("email");
        const password = document.getElementById("password");
        const toggle = document.getElementById("togglePass");
        const submitBtn = document.getElementById("submitBtn");
        const emailError = document.getElementById("emailError");
        const passError = document.getElementById("passError");

        toggle.addEventListener("click", () => {
          const type = password.type === "password" ? "text" : "password";
          password.type = type;
          toggle.textContent = type === "password" ? "Mostrar" : "Ocultar";
          toggle.setAttribute(
            "aria-label",
            type === "password" ? "Mostrar contraseña" : "Ocultar contraseña"
          );
        });

        function showError(el, msg) {
          el.textContent = msg;
          el.style.display = "block";
        }
        function clearError(el) {
          el.textContent = "";
          el.style.display = "none";
        }

        form.addEventListener("submit", function (e) {
          e.preventDefault();
          let valid = true;
          clearError(emailError);
          clearError(passError);

          if (!email.value || !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email.value)) {
            showError(emailError, "Introduce un correo válido.");
            valid = false;
          }
          if (!password.value || password.value.length < 6) {
            showError(
              passError,
              "La contraseña debe tener al menos 6 caracteres."
            );
            valid = false;
          }

          if (!valid) return;

          submitBtn.disabled = true;
          submitBtn.textContent = "Accediendo...";
          setTimeout(() => {
            alert(
              "Inicio de sesión simulado — sustituye por fetch a tu backend."
            );
            submitBtn.disabled = false;
            submitBtn.textContent = "Entrar";
          }, 900);
        });
      })();
    </script>
  </body>
</html>
